## 대용량 저장장치 구조 
### 자기 디스크(Magnetic Disk)
자기 디스크는 대용량의 보조 저장장치로, 자성을 이용해 정보를 기록하고 읽는다.
하드디스크(HDD)는 자기 디스크의 일종이다.

![magnetic disk architecture](magnetic-disk-architecture.png)

**플래터(platter)**
플래터는 CD처럼 생긴 원형 판으로, 양쪽 표면이 자기 물질로 덮여 있다. 
정보는 플래터 상에 자기적으로 기록되어 저장된다. 

**디스크 암(disk arm), 헤드(head)**
읽기와 쓰기 헤드는 모든 플래터의 각 표면 바로 위에서 움직인다.
헤드는 모든 헤드를 한꺼번에 이동시키는 디스크 암에 부착되어 있다. 

**트랙(track), 섹터(sector), 실린더(cylinder)**
플래터의 표면은 원 모양의 트랙으로 논리적으로 나뉘어져 있고, 트랙은 다시 섹터로 나뉜다. 동일한 암 위치에 있는 트랙의 집합은 하나의 실린더를 형성한다.<br>
하나의 디스크 드라이브(일반적으로 GB 단위)에는 수천 개의 동심원 실린더가 존재할 수 있고, 각 트랙은 수백 개의 섹터를 포함할 수 있다. 

디스크 접근 시간은 탐색시간, 회전 지연시간, 전송시간의 합으로 계산한다.<br>
**탐색 시간(seek time)**: 원하는 트랙(실린더)로 암이 이동하는 시간<br>
**회전 지연시간(rotational latency)**: 원하는 섹터가 디스크 헤더로 회전하는 데 걸리는 시간<br>
**전송 시간(transfer time)**: 데이터를 전송하는 시간

이 중 기계적으로 헤드를 이동시켜야 하는 탐색 시간이 가장 오래 걸린다. 

### 반도체 디스크(Solid-State Disk)
**SSD와 자기 디스크의 차이**
- SSD는 기계적 이동 부품이 없기 떄문에 더 신뢰할 수 있고, 탐색과 지연 시간이 없어 속도가 더 빠르다. 
- SSD는 자기 디스크에 비해 전력 소모가 적다. 
- SSD가 메가바이트당 가격이 더 높고 용량은 작으며, 수명이 더 짧다. 

SSD는 주로 고성능을 필요로 하는 파일 시스템의 메타데이터를 저장하는 데 사용된다. 또 SS는 현대적 컴퓨터의 저장장치로서 사용되어 더 작고 빠르며 에너지 효율적으로 동작한다. 

### 자기 테이프(Magnetic Tape)
초기의 보조 저장장치 매체로, 순차 접근만 가능하다. 주 메모리와 자기 디스크와 비교해 많은 양의 데이터를 보관할 수 있지만, 접근 시간이 느리다.(자기 테이프에 대한 무작위 접근은 자기 디스크에 대한 무작위 접근보다 약 1000배 느리다.) 때문에 자기 테이프는 보조 저장장치로는 부적합하며, 주로 backup용이나 한 시스템에서 다른 시스템으로 정보를 전송하기 위한 매체로 사용된다. 

---

## 디스크 부착(Disk Attachment)

---

## 디스크 스케줄링(Disk Scheduling)
자기 디스크의 경우, 디스크 접근 시간은 탐색 시간과 회전 지연 시간으로 이루어진다. 효율적인 디스크 스케줄링은 접근 시간과 대역폭을 향상시킬 수 있다.

프로세스가 입출력을 필요로 할 때, 운영체제에 보내는 시스템 콜에는 다음과 같은 인수가 주어진다.
- 입력/출력 여부
- 디스크 주소
- 메모리 주소
- 전송될 섹터의 수

만일 디스크 드라이브나 제어기(controller)가 쉬고 있는 상태라면 요청은 즉시 시작되지만, 드라이브나 제어기가 바쁘면 요청은 드라이브의 큐에 들어가 대기한다. 하나의 디스크 입출력이 완료되면, 큐에서 대기 중인 디스크 요청 중 하나를 선택해 처리해준다. 

### 선입 선처리(FCFS) 스케줄링
<u>큐에 도착한 순서대로 처리하는 방식</u>으로 가장 간단한 형태의 스케줄링이지만, 빠른 서비스를 제공하지는 못한다. 

![FCFS](fcfs-scheduling.png)

### 최소 탐색 시간 우선(SSTF) 스케줄링
최소 탐색 시간 우선 알고리즘은 헤드가 다른 곳으로 이동을 시작하기 전에 근처에 있는 요구들을 먼저 처리해 주고, 헤드를 이동하는 방식이다. SSTF 알고리즘은 현재 헤드 위치에서 출발해 탐색 시간이 가장 적은, 즉 현재의 헤드 위치와 가장 가까운 요청을 선택한다. 

![SSTF](sstf-scheduling.png)

SSTF 알고리즘을 사용 시, 몇몇 디스크 요청들이 매우 오래 기다리게 되는 기아 상태가 발생할 수 있다. 

### SCAN 스케줄링
SCAN 알고리즘에서는 디스크 암이 디스크의 한 끝에서 다른 끝으로 왕복하며 경로에 있는 모든 요청을 처리한다. 다른 한쪽 끝에 도달하면 역방향으로 이동하며 오는 길에 있는 요청을 모두 처리한다. 

![SCAN](scan-scheduling.png)

### C-SCAN 스케줄링
C-SCAN 알고리즘은 SCAN의 변형으로, 각 요청에 걸리는 시간을 더 균등하게 하기 위한 알고리즘이다. C-SCAN도 한쪽 방향으로 헤드를 이동해 가며 요청을 처리하지만, 한쪽 끝에 다다르면 처음 시작했던 자리로 다시 되돌아가서 요청을 처리한다. 

![C-SCAN](c-scan-scheduling.png)

### LOOK 스케줄링
LOOK 알고리즘에서 헤드는 SCAN, C-SCAN에서처럼 각 방향으로 가다가 그 방향에서 대기하는 요청이 없다면 헤드의 이동 방향을 즉시 바꾼다. SCAN과 C-SCAN의 이러한 변형을 각각 LOOK, C-LOOK 스케줄링이라 한다. 헤드가 한 방향으로 계속 움직이기 전에 미리 요구가 있는지 확인하는 방식이다. 

![LOOK](look-scheduling.png)

![C-LOOK](c-look-scheduling.png)

